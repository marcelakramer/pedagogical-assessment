<div id="report-viewing">
    <div id="teacher-info">
        <div id="teacher-name"><span class="underline">Docente:</span>{{ this.teacher.name }}</div>
        <div id="teacher-registration"><span class="underline">Matr√≠cula:</span>{{ this.teacher.registration }}</div>
    </div>
    <div id="average-selection">
        <select (change)="selectAverageOption($event.target)">
            <option *ngFor="let option of averageOptions">{{ option }}</option>
        </select>
    </div>
    <div id="averages">
        <ng-container *ngIf="selectedAverageOption === averageOptionsEnum.overallAverage">
            <div class="spinner">
                <mat-progress-spinner
                    [mode]="'determinate'"
                    [diameter]="300"
                    [strokeWidth]="20"
                    [value]="overallAverage*10"
                    [ngStyle]="{'stroke': this.overallColor }">
                </mat-progress-spinner>
                <div id="spinner-text" [ngStyle]="{ 'color': this.overallColor}">{{ this.overallAverage % 1 !== 0 ? this.overallAverage.toFixed(1) : this.overallAverage }}</div>
            </div>
            <div id="situation" [ngStyle]="{ 'color': this.overallColor}">{{ this.overallStatus }}</div>
          </ng-container>
          
          <ng-container *ngIf="selectedAverageOption === averageOptionsEnum.dimensionAverage">
            <div id="dimension-average">
                <div *ngFor="let average of this.specificsAverages" class="each-dimension" [ngStyle]="{ 'color': average.dimensionColor }">
                    <div class="spinner">
                        <mat-progress-spinner
                            [mode]="'determinate'"
                            [diameter]="110"
                            [strokeWidth]="7"
                            [value]="average.average*10"
                            [ngStyle]="{'stroke': average.dimensionColor }">
                        </mat-progress-spinner>
                        <div class="dimension-spinner-text" [ngStyle]="{ 'color': average.dimensionColor }">{{ average.average % 1 !== 0 ? average.average.toFixed(1) : average.average}}</div>
                        </div>
                    <div class="dimension-title">{{ average.dimension }}</div>
                </div>
            </div>
          </ng-container>
          
          <ng-container *ngIf="selectedAverageOption === averageOptionsEnum.sentenceAverage">
            <div id="sentencesAverages">
                <select (change)="selectSpecificAverage($event.target)">
                    <option *ngFor="let average of this.specificsAverages">{{ average.dimension }}</option>
                </select>
                <div *ngFor="let sentence of selectedSpecificAverage.sentenceAverage" class="each-sentence">
                    <div class="sentence-text" [ngStyle]="{ 'color': selectedSpecificAverage.dimensionColor }">{{ sentence.sentence }}</div>
                    <div class="spinner">
                        <mat-progress-spinner
                            [mode]="'determinate'"
                            [diameter]="80"
                            [strokeWidth]="5"
                            [value]="sentence.average*10"
                            [ngStyle]="{'stroke': selectedSpecificAverage.dimensionColor }">
                        </mat-progress-spinner>
                        <div class="sentence-average" [ngStyle]="{ 'color': selectedSpecificAverage.dimensionColor }">{{ sentence.average % 1 !== 0 ? sentence.average.toFixed(1) : sentence.average}}</div>  
                    </div>
              </div>
            </div>
          </ng-container>
    </div>
    <div id="buttons-section">
        <button class="btn btn-secondary" (click)="goToTeacherSelection()">
            Voltar
        </button>
    </div>
</div>